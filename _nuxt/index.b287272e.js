import{a8 as K,a5 as I,k as h,w as W,e as q,x as Q,p as z,as as E,aa as re,m as O,f as S,h as X,a2 as P,o as C,c as Y,L as Z,I as M,a4 as x,u as l,Z as $,D as y,ag as V,aW as w,K as T,X as de,U as H,Q as J,Y as G,P as _,R as ce,a3 as be,t as me}from"./entry.40f94ce2.js";import{a as ee}from"./index.f72caa6f.js";import{U as F}from"./event.e54e7e4a.js";import{c as A,b as N,a as D}from"./types.0ffe2429.js";import{_ as U}from"./plugin-vue_export-helper.b0b5f2d9.js";import{a as ve,u as j}from"./use-form-common-props.c0d2009e.js";import{u as R,a as ae}from"./use-form-item.eeb4683c.js";import{d as le}from"./error.6c36bb34.js";import{i as fe}from"./isEqual.f785ded9.js";import{b as pe,d as ke}from"./runtime.a8d5aa72.js";import{p as he}from"./pick.b27c0e8e.js";import{w as ge,a as oe}from"./install.db378abc.js";import"./size.007424cf.js";import"./constants.e2ce9b61.js";import"./_Uint8Array.4a2b558d.js";import"./_baseGet.57648035.js";import"./isArray.3fa80ba1.js";import"./isObject.5a18b265.js";import"./_arrayPush.6d7e61e4.js";import"./_isIndex.f5af1eca.js";import"./_baseSet.39436bc7.js";import"./_defineProperty.f71786e5.js";import"./flatten.a5c62c9e.js";import"./_baseFlatten.02332558.js";import"./_overRest.e23153e9.js";const te={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:ee,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},ne={[F]:e=>K(e)||A(e)||N(e),change:e=>K(e)||A(e)||N(e)},B=Symbol("checkboxGroupContextKey"),xe=({model:e,isChecked:i})=>{const u=I(B,void 0),o=h(()=>{var v,p;const n=(v=u==null?void 0:u.max)==null?void 0:v.value,c=(p=u==null?void 0:u.min)==null?void 0:p.value;return!D(n)&&e.value.length>=n&&!i.value||!D(c)&&e.value.length<=c&&i.value});return{isDisabled:ve(h(()=>(u==null?void 0:u.disabled.value)||o.value)),isLimitDisabled:o}},Ce=(e,{model:i,isLimitExceeded:u,hasOwnLabel:o,isDisabled:f,isLabeledByFormItem:v})=>{const p=I(B,void 0),{formItem:n}=R(),{emit:c}=Q();function a(s){var r,d;return s===e.trueLabel||s===!0?(r=e.trueLabel)!=null?r:!0:(d=e.falseLabel)!=null?d:!1}function b(s,r){c("change",a(s),r)}function k(s){if(u.value)return;const r=s.target;c("change",a(r.checked),s)}async function L(s){u.value||!o.value&&!f.value&&v.value&&(s.composedPath().some(m=>m.tagName==="LABEL")||(i.value=a([!1,e.falseLabel].includes(i.value)),await q(),b(i.value,s)))}const t=h(()=>(p==null?void 0:p.validateEvent)||e.validateEvent);return W(()=>e.modelValue,()=>{t.value&&(n==null||n.validate("change").catch(s=>le()))}),{handleChange:k,onClickRoot:L}},ye=e=>{const i=z(!1),{emit:u}=Q(),o=I(B,void 0),f=h(()=>D(o)===!1),v=z(!1);return{model:h({get(){var n,c;return f.value?(n=o==null?void 0:o.modelValue)==null?void 0:n.value:(c=e.modelValue)!=null?c:i.value},set(n){var c,a;f.value&&E(n)?(v.value=((c=o==null?void 0:o.max)==null?void 0:c.value)!==void 0&&n.length>(o==null?void 0:o.max.value),v.value===!1&&((a=o==null?void 0:o.changeEvent)==null||a.call(o,n))):(u(F,n),i.value=n)}}),isGroup:f,isLimitExceeded:v}},Le=(e,i,{model:u})=>{const o=I(B,void 0),f=z(!1),v=h(()=>{const a=u.value;return N(a)?a:E(a)?re(e.label)?a.map(O).some(b=>fe(b,e.label)):a.map(O).includes(e.label):a!=null?a===e.trueLabel:!!a}),p=j(h(()=>{var a;return(a=o==null?void 0:o.size)==null?void 0:a.value}),{prop:!0}),n=j(h(()=>{var a;return(a=o==null?void 0:o.size)==null?void 0:a.value})),c=h(()=>!!(i.default||e.label));return{checkboxButtonSize:p,isChecked:v,isFocused:f,checkboxSize:n,hasOwnLabel:c}},Se=(e,{model:i})=>{function u(){E(i.value)&&!i.value.includes(e.label)?i.value.push(e.label):i.value=e.trueLabel||!0}e.checked&&u()},se=(e,i)=>{const{formItem:u}=R(),{model:o,isGroup:f,isLimitExceeded:v}=ye(e),{isFocused:p,isChecked:n,checkboxButtonSize:c,checkboxSize:a,hasOwnLabel:b}=Le(e,i,{model:o}),{isDisabled:k}=xe({model:o,isChecked:n}),{inputId:L,isLabeledByFormItem:t}=ae(e,{formItemContext:u,disableIdGeneration:b,disableIdManagement:f}),{handleChange:s,onClickRoot:r}=Ce(e,{model:o,isLimitExceeded:v,hasOwnLabel:b,isDisabled:k,isLabeledByFormItem:t});return Se(e,{model:o}),{inputId:L,isLabeledByFormItem:t,isChecked:n,isDisabled:k,isFocused:p,checkboxButtonSize:c,checkboxSize:a,hasOwnLabel:b,model:o,handleChange:s,onClickRoot:r}},Be=["tabindex","role","aria-checked"],Ee=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],Ie=["id","aria-hidden","disabled","value","name","tabindex"],$e=S({name:"ElCheckbox"}),Ve=S({...$e,props:te,emits:ne,setup(e){const i=e,u=X(),{inputId:o,isLabeledByFormItem:f,isChecked:v,isDisabled:p,isFocused:n,checkboxSize:c,hasOwnLabel:a,model:b,handleChange:k,onClickRoot:L}=se(i,u),t=P("checkbox"),s=h(()=>[t.b(),t.m(c.value),t.is("disabled",p.value),t.is("bordered",i.border),t.is("checked",v.value)]),r=h(()=>[t.e("input"),t.is("disabled",p.value),t.is("checked",v.value),t.is("indeterminate",i.indeterminate),t.is("focus",n.value)]);return(d,m)=>(C(),Y(_(!l(a)&&l(f)?"span":"label"),{class:x(l(s)),"aria-controls":d.indeterminate?d.controls:null,onClick:l(L)},{default:Z(()=>[M("span",{class:x(l(r)),tabindex:d.indeterminate?0:void 0,role:d.indeterminate?"checkbox":void 0,"aria-checked":d.indeterminate?"mixed":void 0},[d.trueLabel||d.falseLabel?$((C(),y("input",{key:0,id:l(o),"onUpdate:modelValue":m[0]||(m[0]=g=>V(b)?b.value=g:null),class:x(l(t).e("original")),type:"checkbox","aria-hidden":d.indeterminate?"true":"false",name:d.name,tabindex:d.tabindex,disabled:l(p),"true-value":d.trueLabel,"false-value":d.falseLabel,onChange:m[1]||(m[1]=(...g)=>l(k)&&l(k)(...g)),onFocus:m[2]||(m[2]=g=>n.value=!0),onBlur:m[3]||(m[3]=g=>n.value=!1)},null,42,Ee)),[[w,l(b)]]):$((C(),y("input",{key:1,id:l(o),"onUpdate:modelValue":m[4]||(m[4]=g=>V(b)?b.value=g:null),class:x(l(t).e("original")),type:"checkbox","aria-hidden":d.indeterminate?"true":"false",disabled:l(p),value:d.label,name:d.name,tabindex:d.tabindex,onChange:m[5]||(m[5]=(...g)=>l(k)&&l(k)(...g)),onFocus:m[6]||(m[6]=g=>n.value=!0),onBlur:m[7]||(m[7]=g=>n.value=!1)},null,42,Ie)),[[w,l(b)]]),M("span",{class:x(l(t).e("inner"))},null,2)],10,Be),l(a)?(C(),y("span",{key:0,class:x(l(t).e("label"))},[T(d.$slots,"default"),d.$slots.default?G("v-if",!0):(C(),y(de,{key:0},[H(J(d.label),1)],64))],2)):G("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var we=U(Ve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const Fe=["name","tabindex","disabled","true-value","false-value"],ze=["name","tabindex","disabled","value"],Ge=S({name:"ElCheckboxButton"}),Ne=S({...Ge,props:te,emits:ne,setup(e){const i=e,u=X(),{isFocused:o,isChecked:f,isDisabled:v,checkboxButtonSize:p,model:n,handleChange:c}=se(i,u),a=I(B,void 0),b=P("checkbox"),k=h(()=>{var t,s,r,d;const m=(s=(t=a==null?void 0:a.fill)==null?void 0:t.value)!=null?s:"";return{backgroundColor:m,borderColor:m,color:(d=(r=a==null?void 0:a.textColor)==null?void 0:r.value)!=null?d:"",boxShadow:m?`-1px 0 0 0 ${m}`:void 0}}),L=h(()=>[b.b("button"),b.bm("button",p.value),b.is("disabled",v.value),b.is("checked",f.value),b.is("focus",o.value)]);return(t,s)=>(C(),y("label",{class:x(l(L))},[t.trueLabel||t.falseLabel?$((C(),y("input",{key:0,"onUpdate:modelValue":s[0]||(s[0]=r=>V(n)?n.value=r:null),class:x(l(b).be("button","original")),type:"checkbox",name:t.name,tabindex:t.tabindex,disabled:l(v),"true-value":t.trueLabel,"false-value":t.falseLabel,onChange:s[1]||(s[1]=(...r)=>l(c)&&l(c)(...r)),onFocus:s[2]||(s[2]=r=>o.value=!0),onBlur:s[3]||(s[3]=r=>o.value=!1)},null,42,Fe)),[[w,l(n)]]):$((C(),y("input",{key:1,"onUpdate:modelValue":s[4]||(s[4]=r=>V(n)?n.value=r:null),class:x(l(b).be("button","original")),type:"checkbox",name:t.name,tabindex:t.tabindex,disabled:l(v),value:t.label,onChange:s[5]||(s[5]=(...r)=>l(c)&&l(c)(...r)),onFocus:s[6]||(s[6]=r=>o.value=!0),onBlur:s[7]||(s[7]=r=>o.value=!1)},null,42,ze)),[[w,l(n)]]),t.$slots.default||t.label?(C(),y("span",{key:2,class:x(l(b).be("button","inner")),style:ce(l(f)?l(k):void 0)},[T(t.$slots,"default",{},()=>[H(J(t.label),1)])],6)):G("v-if",!0)],2))}});var ie=U(Ne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const De=pe({modelValue:{type:ke(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:ee,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),Pe={[F]:e=>E(e),change:e=>E(e)},Te=S({name:"ElCheckboxGroup"}),Ue=S({...Te,props:De,emits:Pe,setup(e,{emit:i}){const u=e,o=P("checkbox"),{formItem:f}=R(),{inputId:v,isLabeledByFormItem:p}=ae(u,{formItemContext:f}),n=async a=>{i(F,a),await q(),i("change",a)},c=h({get(){return u.modelValue},set(a){n(a)}});return be(B,{...he(me(u),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:c,changeEvent:n}),W(()=>u.modelValue,()=>{u.validateEvent&&(f==null||f.validate("change").catch(a=>le()))}),(a,b)=>{var k;return C(),Y(_(a.tag),{id:l(v),class:x(l(o).b("group")),role:"group","aria-label":l(p)?void 0:a.label||"checkbox-group","aria-labelledby":l(p)?(k=l(f))==null?void 0:k.labelId:void 0},{default:Z(()=>[T(a.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var ue=U(Ue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const da=ge(we,{CheckboxButton:ie,CheckboxGroup:ue}),ca=oe(ie),ba=oe(ue);export{da as ElCheckbox,ca as ElCheckboxButton,ba as ElCheckboxGroup,ne as checkboxEmits,B as checkboxGroupContextKey,Pe as checkboxGroupEmits,De as checkboxGroupProps,te as checkboxProps,da as default};
