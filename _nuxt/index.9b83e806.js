import{ElStatistic as x}from"./index.c28d9bed.js";import{b as y,d}from"./runtime.5e0241e9.js";import{C as _}from"./event.e54e7e4a.js";import{i as S}from"./types.4bdaf307.js";import{_ as T}from"./plugin-vue_export-helper.b0b5f2d9.js";import{r as w,c as E}from"./raf.83f3d5ca.js";import{i as h,b,h as C,e as k,af as A,o as D,c as H,aS as N,M as $,w as B,r as F,u as M}from"./entry.95cc8762.js";import{w as O}from"./install.7765cf20.js";const P=y({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:d([Number,Object]),default:0},valueStyle:{type:d([String,Object,Array])}}),R={finish:()=>!0,[_]:t=>S(t)},V=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],g=t=>S(t)?new Date(t).getTime():t.valueOf(),v=(t,u)=>{let n=t;const o=/\[([^\]]*)]/g;return V.reduce((r,[m,l])=>{const a=new RegExp(`${m}+(?![^\\[\\]]*\\])`,"g");if(a.test(r)){const f=Math.floor(n/l);return n-=f*l,r.replace(a,e=>String(f).padStart(e.length,"0"))}return r},u).replace(o,"$1")},j=h({name:"ElCountdown"}),L=h({...j,props:P,emits:R,setup(t,{expose:u,emit:n}){const o=t;let s;const r=b(g(o.value)-Date.now()),m=C(()=>v(r.value,o.format)),l=e=>v(e,o.format),a=()=>{s&&(E(s),s=void 0)},f=()=>{const e=g(o.value),c=()=>{let i=e-Date.now();n("change",i),i<=0?(i=0,a(),n("finish")):s=w(c),r.value=i};s=w(c)};return k(()=>[o.value,o.format],()=>{a(),f()},{immediate:!0}),A(()=>{a()}),u({displayValue:m}),(e,c)=>(D(),H(M(x),{value:r.value,title:e.title,prefix:e.prefix,suffix:e.suffix,"value-style":e.valueStyle,formatter:l},N({_:2},[$(e.$slots,(i,p)=>({name:p,fn:B(()=>[F(e.$slots,p)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var U=T(L,[["__file","/home/runner/work/element-plus/element-plus/packages/components/countdown/src/countdown.vue"]]);const W=O(U);export{W as ElCountdown,R as countdownEmits,P as countdownProps,W as default};
