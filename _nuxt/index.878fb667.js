import{ElIcon as E}from"./index.52232a07.js";import{b as z,d as _}from"./runtime.a8d5aa72.js";import{c as b}from"./size.007424cf.js";import{c as d}from"./types.0ffe2429.js";import{i as w}from"./icon.aaa9d058.js";import{_ as C}from"./plugin-vue_export-helper.b0b5f2d9.js";import{f as v,a2 as P,p as B,k as c,a8 as A,w as L,o,D as m,R as u,u as n,c as f,L as N,P as D,K as I,a4 as T}from"./entry.40f94ce2.js";import{b as j}from"./style.a7bf22e4.js";import{w as q}from"./install.db378abc.js";import"./index.e0b44930.js";const F=z({size:{type:[Number,String],values:b,default:"",validator:e=>d(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:w},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:_(String),default:"cover"}}),K={error:e=>e instanceof Event},R=["src","alt","srcset"],U=v({name:"ElAvatar"}),V=v({...U,props:F,emits:K,setup(e,{emit:y}){const r=e,a=P("avatar"),i=B(!1),S=c(()=>{const{size:s,icon:l,shape:p}=r,t=[a.b()];return A(s)&&t.push(a.m(s)),l&&t.push(a.m("icon")),p&&t.push(a.m(p)),t}),h=c(()=>{const{size:s}=r;return d(s)?a.cssVarBlock({size:j(s)||""}):void 0}),k=c(()=>({objectFit:r.fit}));L(()=>r.src,()=>i.value=!1);function g(s){i.value=!0,y("error",s)}return(s,l)=>(o(),m("span",{class:T(n(S)),style:u(n(h))},[(s.src||s.srcSet)&&!i.value?(o(),m("img",{key:0,src:s.src,alt:s.alt,srcset:s.srcSet,style:u(n(k)),onError:g},null,44,R)):s.icon?(o(),f(n(E),{key:1},{default:N(()=>[(o(),f(D(s.icon)))]),_:1})):I(s.$slots,"default",{key:2})],6))}});var $=C(V,[["__file","/home/runner/work/element-plus/element-plus/packages/components/avatar/src/avatar.vue"]]);const x=q($);export{x as ElAvatar,K as avatarEmits,F as avatarProps,x as default};
