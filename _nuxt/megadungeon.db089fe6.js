import{e as v,i as x,B as y,l as k,q as T,a as C,o as w,v as _,x as m,z as A,y as N,u as S,C as B,D as E,s as I}from"./entry.9f3e43a4.js";import{u as h}from"./fetch.64cbaf67.js";const $=v({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(t,{slots:e,attrs:u}){const o=x(!1);return y(()=>{o.value=!0}),a=>{var l;if(o.value)return(l=e.default)==null?void 0:l.call(e);const c=e.fallback||e.placeholder;if(c)return c();const r=a.fallback||a.placeholder||"",s=a.fallbackTag||a.placeholderTag||"span";return k(s,u,r)}}});const q=t=>(B("data-v-31a3aea4"),t=t(),E(),t),M={class:"h-[60vh] main"},X=q(()=>I("h1",{class:"text-center text-white bg-slate-500 rounded-t-lg"},"XxX-Mega Dungeon 2019-XxX",-1)),D={__name:"megadungeon",setup(t){const{$Terminal:e}=C(),u=x(),o=[{content:'Type "exit" to exit the game and "dungeon" to start a new one.',class:"info"}],a=[{key:"dungeon",description:"Enter the dungeon",title:"Dungeon"}],c=()=>{e.$api.execute("terminal","dungeon")},r=async(s,l,i,d,O)=>{if(s==="dungeon"){const n=new e.$Ask;u.value=n;const{data:{value:p}}=await h("/api/dungeon",{method:"GET",cache:!1},"$yTMpn1PEUN");if(!p)return d("An error occured");i(n),n.ask({question:p,autoReview:!0,callback:async function b(f){if(f==="exit")return n.finish();const{data:{value:g}}=await h("/api/dungeon",{method:"POST",cache:!1,body:{prompt:f}},"$WAHAqaRj26");g?n.ask({question:g,autoReview:!0,callback:b}):n.finish()}})}};return(s,l)=>{const i=A,d=$;return w(),k("div",M,[_(i,{class:"btn m-4 bg-slate-500",target:"_blank",to:"https://onlinegdb.com/GByibTCZ7"},{default:m(()=>[N("Source Code")]),_:1}),_(d,null,{default:m(()=>[_(S(e),{"command-store":a,"init-log":o,context:"You",onExecCmd:r,onInitComplete:c},{header:m(()=>[X]),_:1})]),_:1})])}}},G=T(D,[["__scopeId","data-v-31a3aea4"]]);export{G as default};
