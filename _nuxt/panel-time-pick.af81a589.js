import{i as Ve,aM as vn,f as ge,l as nn,b as _,h as w,e as Be,Z as se,D as W,u as n,p as gn,o as m,c as $,w as N,k as S,Q as ze,z as me,O as De,P as J,j as A,m as Q,r as qe,t as q,A as hn,S as bn,L as z,M as Ie,s as Te,x as Ge,v as Oe,T as yn}from"./entry.79582efe.js";import{o as kn}from"./index.1835a477.js";import{ElInput as Sn}from"./index.f3fa4567.js";import{ElIcon as le}from"./index.4b3dd1aa.js";import{E as wn}from"./index.dbf6d747.js";import{CircleClose as Pn,Clock as Cn,Calendar as Dn,ArrowUp as In,ArrowDown as Tn}from"./index.c27a0865.js";import{v as We,p as Je,f as Qe,m as Re,b as $e}from"./utils.91020c47.js";import{b as he,d as E}from"./runtime.b573838e.js";import{u as Vn}from"./index.c50b3ef5.js";import{_ as Le}from"./plugin-vue_export-helper.b0b5f2d9.js";import{u as tn}from"./index.116fa0f7.js";import{a as Mn}from"./use-form-item.d61698f3.js";import{d as Ze}from"./error.6c36bb34.js";import{E as ne}from"./aria.362daa0e.js";import{u as An}from"./use-form-common-props.b5b0a422.js";import{i as En}from"./isEqual.f785ded9.js";import{d as _e}from"./dayjs.min.6a4959ec.js";import{ElScrollbar as Rn}from"./index.94b02f90.js";import{g as $n}from"./style.dd32c560.js";import{v as Xe}from"./index.9bf20315.js";import{d as _n}from"./debounce.a43f57fe.js";import{a as Fn}from"./types.b323ed8e.js";const xe=["hours","minutes","seconds"],en="HH:mm:ss",ve="YYYY-MM-DD",kt={date:ve,dates:ve,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${ve} ${en}`,monthrange:"YYYY-MM",daterange:ve,datetimerange:`${ve} ${en}`},an=he({disabledHours:{type:E(Function)},disabledMinutes:{type:E(Function)},disabledSeconds:{type:E(Function)}}),On=he({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),Bn=he({id:{type:E([Array,String])},name:{type:E([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:E([String,Object]),default:Pn},editable:{type:Boolean,default:!0},prefixIcon:{type:E([String,Object]),default:""},size:Vn,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:E(Object),default:()=>({})},modelValue:{type:E([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:E([Date,Array])},defaultTime:{type:E([Date,Array])},isRange:{type:Boolean,default:!1},...an,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:E([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),Ln=["id","name","placeholder","value","disabled","readonly"],Nn=["id","name","placeholder","value","disabled","readonly"],Hn=Ve({name:"Picker"}),Kn=Ve({...Hn,props:Bn,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(P,{expose:p,emit:s}){const o=P,F=vn(),{lang:R}=tn(),b=ge("date"),g=ge("input"),y=ge("range"),{form:C,formItem:T}=Mn(),V=nn("ElPopperOptions",{}),h=_(),k=_(),i=_(!1),O=_(!1),te=_(null);let Z=!1,B=!1;const H=w(()=>[b.b("editor"),b.bm("editor",o.type),g.e("wrapper"),b.is("disabled",u.value),b.is("active",i.value),y.b("editor"),Me?y.bm("editor",Me.value):"",F.class]),Y=w(()=>[g.e("icon"),y.e("close-icon"),oe.value?"":y.e("close-icon--hidden")]);Be(i,e=>{e?se(()=>{e&&(te.value=o.modelValue)}):(f.value=null,se(()=>{G(o.modelValue)}))});const G=(e,a)=>{(a||!We(e,te.value))&&(s("change",e),o.validateEvent&&(T==null||T.validate("change").catch(d=>Ze())))},L=e=>{if(!We(o.modelValue,e)){let a;W(e)?a=e.map(d=>Qe(d,o.valueFormat,R.value)):e&&(a=Qe(e,o.valueFormat,R.value)),s("update:modelValue",e&&a,R.value)}},X=e=>{s("keydown",e)},K=w(()=>{if(k.value){const e=we.value?k.value:k.value.$el;return Array.from(e.querySelectorAll("input"))}return[]}),re=(e,a,d)=>{const I=K.value;!I.length||(!d||d==="min"?(I[0].setSelectionRange(e,a),I[0].focus()):d==="max"&&(I[1].setSelectionRange(e,a),I[1].focus()))},ue=()=>{c(!0,!0),se(()=>{B=!1})},U=(e="",a=!1)=>{a||(B=!0),i.value=a;let d;W(e)?d=e.map(I=>I.toDate()):d=e&&e.toDate(),f.value=null,L(d)},ie=()=>{O.value=!0},x=()=>{s("visible-change",!0)},ee=e=>{(e==null?void 0:e.key)===ne.esc&&c(!0,!0)},ce=()=>{O.value=!1,i.value=!1,B=!1,s("visible-change",!1)},de=()=>{i.value=!0},pe=()=>{i.value=!1},c=(e=!0,a=!1)=>{B=a;const[d,I]=n(K);let j=d;!e&&we.value&&(j=I),j&&j.focus()},t=e=>{o.readonly||u.value||i.value||B||(i.value=!0,s("focus",e))};let l;const r=e=>{const a=async()=>{setTimeout(()=>{var d;l===a&&(!(((d=h.value)==null?void 0:d.isFocusInsideContent())&&!Z)&&K.value.filter(I=>I.contains(document.activeElement)).length===0&&(Ae(),i.value=!1,s("blur",e),o.validateEvent&&(T==null||T.validate("blur").catch(I=>Ze()))),Z=!1)},0)};l=a,a()},u=w(()=>o.disabled||(C==null?void 0:C.disabled)),v=w(()=>{let e;if(ke.value?M.value.getDefaultValue&&(e=M.value.getDefaultValue()):W(o.modelValue)?e=o.modelValue.map(a=>Je(a,o.valueFormat,R.value)):e=Je(o.modelValue,o.valueFormat,R.value),M.value.getRangeAvailableTime){const a=M.value.getRangeAvailableTime(e);En(a,e)||(e=a,L(W(e)?e.map(d=>d.toDate()):e.toDate()))}return W(e)&&e.some(a=>!a)&&(e=[]),e}),D=w(()=>{if(!M.value.panelReady)return"";const e=Ee(v.value);return W(f.value)?[f.value[0]||e&&e[0]||"",f.value[1]||e&&e[1]||""]:f.value!==null?f.value:!ae.value&&ke.value||!i.value&&ke.value?"":e?Ne.value?e.join(", "):e:""}),be=w(()=>o.type.includes("time")),ae=w(()=>o.type.startsWith("time")),Ne=w(()=>o.type==="dates"),ye=w(()=>o.prefixIcon||(be.value?Cn:Dn)),oe=_(!1),He=e=>{o.readonly||u.value||oe.value&&(e.stopPropagation(),ue(),L(null),G(null,!0),oe.value=!1,i.value=!1,M.value.handleClear&&M.value.handleClear())},ke=w(()=>{const{modelValue:e}=o;return!e||W(e)&&!e.filter(Boolean).length}),fe=async e=>{var a;o.readonly||u.value||(((a=e.target)==null?void 0:a.tagName)!=="INPUT"||K.value.includes(document.activeElement))&&(i.value=!0)},Ke=()=>{o.readonly||u.value||!ke.value&&o.clearable&&(oe.value=!0)},Ye=()=>{oe.value=!1},Se=e=>{var a;o.readonly||u.value||(((a=e.touches[0].target)==null?void 0:a.tagName)!=="INPUT"||K.value.includes(document.activeElement))&&(i.value=!0)},we=w(()=>o.type.includes("range")),Me=An(),sn=w(()=>{var e,a;return(a=(e=n(h))==null?void 0:e.popperRef)==null?void 0:a.contentRef}),Ue=w(()=>{var e;return n(we)?n(k):(e=n(k))==null?void 0:e.$el});kn(Ue,e=>{const a=n(sn),d=n(Ue);a&&(e.target===a||e.composedPath().includes(a))||e.target===d||e.composedPath().includes(d)||(i.value=!1)});const f=_(null),Ae=()=>{if(f.value){const e=Pe(D.value);e&&Ce(e)&&(L(W(e)?e.map(a=>a.toDate()):e.toDate()),f.value=null)}f.value===""&&(L(null),G(null),f.value=null)},Pe=e=>e?M.value.parseUserInput(e):null,Ee=e=>e?M.value.formatToString(e):null,Ce=e=>M.value.isValidValue(e),je=async e=>{if(o.readonly||u.value)return;const{code:a}=e;if(X(e),a===ne.esc){i.value===!0&&(i.value=!1,e.preventDefault(),e.stopPropagation());return}if(a===ne.down&&(M.value.handleFocusPicker&&(e.preventDefault(),e.stopPropagation()),i.value===!1&&(i.value=!0,await se()),M.value.handleFocusPicker)){M.value.handleFocusPicker();return}if(a===ne.tab){Z=!0;return}if(a===ne.enter||a===ne.numpadEnter){(f.value===null||f.value===""||Ce(Pe(D.value)))&&(Ae(),i.value=!1),e.stopPropagation();return}if(f.value){e.stopPropagation();return}M.value.handleKeydownInput&&M.value.handleKeydownInput(e)},ln=e=>{f.value=e,i.value||(i.value=!0)},rn=e=>{const a=e.target;f.value?f.value=[a.value,f.value[1]]:f.value=[a.value,null]},un=e=>{const a=e.target;f.value?f.value=[f.value[0],a.value]:f.value=[null,a.value]},cn=()=>{var e;const a=f.value,d=Pe(a&&a[0]),I=n(v);if(d&&d.isValid()){f.value=[Ee(d),((e=D.value)==null?void 0:e[1])||null];const j=[d,I&&(I[1]||null)];Ce(j)&&(L(j),f.value=null)}},dn=()=>{var e;const a=n(f),d=Pe(a&&a[1]),I=n(v);if(d&&d.isValid()){f.value=[((e=n(D))==null?void 0:e[0])||null,Ee(d)];const j=[I&&I[0],d];Ce(j)&&(L(j),f.value=null)}},M=_({}),pn=e=>{M.value[e[0]]=e[1],M.value.panelReady=!0},fn=e=>{s("calendar-change",e)},mn=(e,a,d)=>{s("panel-change",e,a,d)};return gn("EP_PICKER_BASE",{props:o}),p({focus:c,handleFocusInput:t,handleBlurInput:r,handleOpen:de,handleClose:pe,onPick:U}),(e,a)=>(m(),$(n(wn),hn({ref_key:"refPopper",ref:h,visible:i.value,effect:"light",pure:"",trigger:"click"},e.$attrs,{role:"dialog",teleported:"",transition:`${n(b).namespace.value}-zoom-in-top`,"popper-class":[`${n(b).namespace.value}-picker__popper`,e.popperClass],"popper-options":n(V),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:ie,onShow:x,onHide:ce}),{default:N(()=>[n(we)?(m(),A("div",{key:1,ref_key:"inputRef",ref:k,class:S(n(H)),style:ze(e.$attrs.style),onClick:t,onMouseenter:Ke,onMouseleave:Ye,onTouchstart:Se,onKeydown:je},[n(ye)?(m(),$(n(le),{key:0,class:S([n(g).e("icon"),n(y).e("icon")]),onMousedown:me(fe,["prevent"]),onTouchstart:Se},{default:N(()=>[(m(),$(De(n(ye))))]),_:1},8,["class","onMousedown"])):J("v-if",!0),Q("input",{id:e.id&&e.id[0],autocomplete:"off",name:e.name&&e.name[0],placeholder:e.startPlaceholder,value:n(D)&&n(D)[0],disabled:n(u),readonly:!e.editable||e.readonly,class:S(n(y).b("input")),onMousedown:fe,onInput:rn,onChange:cn,onFocus:t,onBlur:r},null,42,Ln),qe(e.$slots,"range-separator",{},()=>[Q("span",{class:S(n(y).b("separator"))},q(e.rangeSeparator),3)]),Q("input",{id:e.id&&e.id[1],autocomplete:"off",name:e.name&&e.name[1],placeholder:e.endPlaceholder,value:n(D)&&n(D)[1],disabled:n(u),readonly:!e.editable||e.readonly,class:S(n(y).b("input")),onMousedown:fe,onFocus:t,onBlur:r,onInput:un,onChange:dn},null,42,Nn),e.clearIcon?(m(),$(n(le),{key:1,class:S(n(Y)),onClick:He},{default:N(()=>[(m(),$(De(e.clearIcon)))]),_:1},8,["class"])):J("v-if",!0)],38)):(m(),$(n(Sn),{key:0,id:e.id,ref_key:"inputRef",ref:k,"container-role":"combobox","model-value":n(D),name:e.name,size:n(Me),disabled:n(u),placeholder:e.placeholder,class:S([n(b).b("editor"),n(b).bm("editor",e.type),e.$attrs.class]),style:ze(e.$attrs.style),readonly:!e.editable||e.readonly||n(Ne)||e.type==="week",label:e.label,tabindex:e.tabindex,"validate-event":!1,onInput:ln,onFocus:t,onBlur:r,onKeydown:je,onChange:Ae,onMousedown:fe,onMouseenter:Ke,onMouseleave:Ye,onTouchstart:Se,onClick:a[0]||(a[0]=me(()=>{},["stop"]))},{prefix:N(()=>[n(ye)?(m(),$(n(le),{key:0,class:S(n(g).e("icon")),onMousedown:me(fe,["prevent"]),onTouchstart:Se},{default:N(()=>[(m(),$(De(n(ye))))]),_:1},8,["class","onMousedown"])):J("v-if",!0)]),suffix:N(()=>[oe.value&&e.clearIcon?(m(),$(n(le),{key:0,class:S(`${n(g).e("icon")} clear-icon`),onClick:me(He,["stop"])},{default:N(()=>[(m(),$(De(e.clearIcon)))]),_:1},8,["class","onClick"])):J("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:N(()=>[qe(e.$slots,"default",{visible:i.value,actualVisible:O.value,parsedValue:n(v),format:e.format,unlinkPanels:e.unlinkPanels,type:e.type,defaultValue:e.defaultValue,onPick:U,onSelectRange:re,onSetPickerOption:pn,onCalendarChange:fn,onPanelChange:mn,onKeydown:ee,onMousedown:a[1]||(a[1]=me(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var St=Le(Kn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const Yn=he({...On,datetimeRole:String,parsedValue:{type:E(Object)}}),Un=({getAvailableHours:P,getAvailableMinutes:p,getAvailableSeconds:s})=>{const o=(b,g,y,C)=>{const T={hour:P,minute:p,second:s};let V=b;return["hour","minute","second"].forEach(h=>{if(T[h]){let k;const i=T[h];switch(h){case"minute":{k=i(V.hour(),g,C);break}case"second":{k=i(V.hour(),V.minute(),g,C);break}default:{k=i(g,C);break}}if((k==null?void 0:k.length)&&!k.includes(V[h]())){const O=y?0:k.length-1;V=V[h](k[O])}}}),V},F={};return{timePickerOptions:F,getAvailableTime:o,onSetOption:([b,g])=>{F[b]=g}}},Fe=P=>{const p=(o,F)=>o||F,s=o=>o!==!0;return P.map(p).filter(s)},on=(P,p,s)=>({getHoursList:(b,g)=>Re(24,P&&(()=>P==null?void 0:P(b,g))),getMinutesList:(b,g,y)=>Re(60,p&&(()=>p==null?void 0:p(b,g,y))),getSecondsList:(b,g,y,C)=>Re(60,s&&(()=>s==null?void 0:s(b,g,y,C)))}),jn=(P,p,s)=>{const{getHoursList:o,getMinutesList:F,getSecondsList:R}=on(P,p,s);return{getAvailableHours:(C,T)=>Fe(o(C,T)),getAvailableMinutes:(C,T,V)=>Fe(F(C,T,V)),getAvailableSeconds:(C,T,V,h)=>Fe(R(C,T,V,h))}},zn=P=>{const p=_(P.parsedValue);return Be(()=>P.visible,s=>{s||(p.value=P.parsedValue)}),p},qn=he({role:{type:String,required:!0},spinnerDate:{type:E(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:E(String),default:""},...an}),Gn=["onClick"],Wn=["onMouseenter"],Jn=Ve({__name:"basic-time-spinner",props:qn,emits:["change","select-range","set-option"],setup(P,{emit:p}){const s=P,o=ge("time"),{getHoursList:F,getMinutesList:R,getSecondsList:b}=on(s.disabledHours,s.disabledMinutes,s.disabledSeconds);let g=!1;const y=_(),C=_(),T=_(),V=_(),h={hours:C,minutes:T,seconds:V},k=w(()=>s.showSeconds?xe:xe.slice(0,2)),i=w(()=>{const{spinnerDate:t}=s,l=t.hour(),r=t.minute(),u=t.second();return{hours:l,minutes:r,seconds:u}}),O=w(()=>{const{hours:t,minutes:l}=n(i);return{hours:F(s.role),minutes:R(t,s.role),seconds:b(t,l,s.role)}}),te=w(()=>{const{hours:t,minutes:l,seconds:r}=n(i);return{hours:$e(t,23),minutes:$e(l,59),seconds:$e(r,59)}}),Z=_n(t=>{g=!1,Y(t)},200),B=t=>{if(!!!s.amPmMode)return"";const r=s.amPmMode==="A";let u=t<12?" am":" pm";return r&&(u=u.toUpperCase()),u},H=t=>{let l;switch(t){case"hours":l=[0,2];break;case"minutes":l=[3,5];break;case"seconds":l=[6,8];break}const[r,u]=l;p("select-range",r,u),y.value=t},Y=t=>{X(t,n(i)[t])},G=()=>{Y("hours"),Y("minutes"),Y("seconds")},L=t=>t.querySelector(`.${o.namespace.value}-scrollbar__wrap`),X=(t,l)=>{if(s.arrowControl)return;const r=n(h[t]);r&&r.$el&&(L(r.$el).scrollTop=Math.max(0,l*K(t)))},K=t=>{const l=n(h[t]),r=l==null?void 0:l.$el.querySelector("li");return r&&Number.parseFloat($n(r,"height"))||0},re=()=>{U(1)},ue=()=>{U(-1)},U=t=>{y.value||H("hours");const l=y.value,r=n(i)[l],u=y.value==="hours"?24:60,v=ie(l,r,t,u);x(l,v),X(l,v),se(()=>H(l))},ie=(t,l,r,u)=>{let v=(l+r+u)%u;const D=n(O)[t];for(;D[v]&&v!==l;)v=(v+r+u)%u;return v},x=(t,l)=>{if(n(O)[t][l])return;const{hours:v,minutes:D,seconds:be}=n(i);let ae;switch(t){case"hours":ae=s.spinnerDate.hour(l).minute(D).second(be);break;case"minutes":ae=s.spinnerDate.hour(v).minute(l).second(be);break;case"seconds":ae=s.spinnerDate.hour(v).minute(D).second(l);break}p("change",ae)},ee=(t,{value:l,disabled:r})=>{r||(x(t,l),H(t),X(t,l))},ce=t=>{g=!0,Z(t);const l=Math.min(Math.round((L(n(h[t]).$el).scrollTop-(de(t)*.5-10)/K(t)+3)/K(t)),t==="hours"?23:59);x(t,l)},de=t=>n(h[t]).$el.offsetHeight,pe=()=>{const t=l=>{const r=n(h[l]);r&&r.$el&&(L(r.$el).onscroll=()=>{ce(l)})};t("hours"),t("minutes"),t("seconds")};bn(()=>{se(()=>{!s.arrowControl&&pe(),G(),s.role==="start"&&H("hours")})});const c=(t,l)=>{h[l].value=t};return p("set-option",[`${s.role}_scrollDown`,U]),p("set-option",[`${s.role}_emitSelectRange`,H]),Be(()=>s.spinnerDate,()=>{g||G()}),(t,l)=>(m(),A("div",{class:S([n(o).b("spinner"),{"has-seconds":t.showSeconds}])},[t.arrowControl?J("v-if",!0):(m(!0),A(z,{key:0},Ie(n(k),r=>(m(),$(n(Rn),{key:r,ref_for:!0,ref:u=>c(u,r),class:S(n(o).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":n(o).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:u=>H(r),onMousemove:u=>Y(r)},{default:N(()=>[(m(!0),A(z,null,Ie(n(O)[r],(u,v)=>(m(),A("li",{key:v,class:S([n(o).be("spinner","item"),n(o).is("active",v===n(i)[r]),n(o).is("disabled",u)]),onClick:D=>ee(r,{value:v,disabled:u})},[r==="hours"?(m(),A(z,{key:0},[Te(q(("0"+(t.amPmMode?v%12||12:v)).slice(-2))+q(B(v)),1)],64)):(m(),A(z,{key:1},[Te(q(("0"+v).slice(-2)),1)],64))],10,Gn))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),t.arrowControl?(m(!0),A(z,{key:1},Ie(n(k),r=>(m(),A("div",{key:r,class:S([n(o).be("spinner","wrapper"),n(o).is("arrow")]),onMouseenter:u=>H(r)},[Ge((m(),$(n(le),{class:S(["arrow-up",n(o).be("spinner","arrow")])},{default:N(()=>[Oe(n(In))]),_:1},8,["class"])),[[n(Xe),ue]]),Ge((m(),$(n(le),{class:S(["arrow-down",n(o).be("spinner","arrow")])},{default:N(()=>[Oe(n(Tn))]),_:1},8,["class"])),[[n(Xe),re]]),Q("ul",{class:S(n(o).be("spinner","list"))},[(m(!0),A(z,null,Ie(n(te)[r],(u,v)=>(m(),A("li",{key:v,class:S([n(o).be("spinner","item"),n(o).is("active",u===n(i)[r]),n(o).is("disabled",n(O)[r][u])])},[typeof u=="number"?(m(),A(z,{key:0},[r==="hours"?(m(),A(z,{key:0},[Te(q(("0"+(t.amPmMode?u%12||12:u)).slice(-2))+q(B(u)),1)],64)):(m(),A(z,{key:1},[Te(q(("0"+u).slice(-2)),1)],64))],64)):J("v-if",!0)],2))),128))],2)],42,Wn))),128)):J("v-if",!0)],2))}});var Qn=Le(Jn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const Zn=Ve({__name:"panel-time-pick",props:Yn,emits:["pick","select-range","set-picker-option"],setup(P,{emit:p}){const s=P,o=nn("EP_PICKER_BASE"),{arrowControl:F,disabledHours:R,disabledMinutes:b,disabledSeconds:g,defaultValue:y}=o.props,{getAvailableHours:C,getAvailableMinutes:T,getAvailableSeconds:V}=jn(R,b,g),h=ge("time"),{t:k,lang:i}=tn(),O=_([0,2]),te=zn(s),Z=w(()=>Fn(s.actualVisible)?`${h.namespace.value}-zoom-in-top`:""),B=w(()=>s.format.includes("ss")),H=w(()=>s.format.includes("A")?"A":s.format.includes("a")?"a":""),Y=c=>{const t=_e(c).locale(i.value),l=ee(t);return t.isSame(l)},G=()=>{p("pick",te.value,!1)},L=(c=!1,t=!1)=>{t||p("pick",s.parsedValue,c)},X=c=>{if(!s.visible)return;const t=ee(c).millisecond(0);p("pick",t,!0)},K=(c,t)=>{p("select-range",c,t),O.value=[c,t]},re=c=>{const t=[0,3].concat(B.value?[6]:[]),l=["hours","minutes"].concat(B.value?["seconds"]:[]),u=(t.indexOf(O.value[0])+c+t.length)%t.length;U.start_emitSelectRange(l[u])},ue=c=>{const t=c.code,{left:l,right:r,up:u,down:v}=ne;if([l,r].includes(t)){re(t===l?-1:1),c.preventDefault();return}if([u,v].includes(t)){const D=t===u?-1:1;U.start_scrollDown(D),c.preventDefault();return}},{timePickerOptions:U,onSetOption:ie,getAvailableTime:x}=Un({getAvailableHours:C,getAvailableMinutes:T,getAvailableSeconds:V}),ee=c=>x(c,s.datetimeRole||"",!0),ce=c=>c?_e(c,s.format).locale(i.value):null,de=c=>c?c.format(s.format):null,pe=()=>_e(y).locale(i.value);return p("set-picker-option",["isValidValue",Y]),p("set-picker-option",["formatToString",de]),p("set-picker-option",["parseUserInput",ce]),p("set-picker-option",["handleKeydownInput",ue]),p("set-picker-option",["getRangeAvailableTime",ee]),p("set-picker-option",["getDefaultValue",pe]),(c,t)=>(m(),$(yn,{name:n(Z)},{default:N(()=>[c.actualVisible||c.visible?(m(),A("div",{key:0,class:S(n(h).b("panel"))},[Q("div",{class:S([n(h).be("panel","content"),{"has-seconds":n(B)}])},[Oe(Qn,{ref:"spinner",role:c.datetimeRole||"start","arrow-control":n(F),"show-seconds":n(B),"am-pm-mode":n(H),"spinner-date":c.parsedValue,"disabled-hours":n(R),"disabled-minutes":n(b),"disabled-seconds":n(g),onChange:X,onSetOption:n(ie),onSelectRange:K},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),Q("div",{class:S(n(h).be("panel","footer"))},[Q("button",{type:"button",class:S([n(h).be("panel","btn"),"cancel"]),onClick:G},q(n(k)("el.datepicker.cancel")),3),Q("button",{type:"button",class:S([n(h).be("panel","btn"),"confirm"]),onClick:t[0]||(t[0]=l=>L())},q(n(k)("el.datepicker.confirm")),3)],2)],2)):J("v-if",!0)]),_:1},8,["name"]))}});var wt=Le(Zn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]);export{St as C,kt as D,wt as T,ve as a,On as b,Qn as c,Un as d,jn as e,en as f,xe as g,Bn as t,zn as u};
