import{p as Te,a as ye,b as he,c as Ce,E as we,d as Ee,e as ke,f as Me}from"./index.cd7da693.js";import{a as te,d as R,b as U}from"./runtime.a8d5aa72.js";import{k as y,aw as K,w as L,H as Pe,x as Be,aj as z,ap as Ae,s as Se,ax as $e,ay as Oe,u as o,as as Ie,f as D,a2 as ne,a5 as re,p as A,ac as H,o as S,c as N,L as I,K as F,a4 as Re,E as De,S as q,Z as He,a6 as Le,Y as j,$ as Ne,a7 as Ke,az as ze,aA as Fe,a3 as je,aB as Ue,aC as Ve,D as Z,Q as _e}from"./entry.40f94ce2.js";import{b as se,c as Ye}from"./types.0ffe2429.js";import{E as X}from"./aria.362daa0e.js";import{_ as G}from"./plugin-vue_export-helper.b0b5f2d9.js";import{c as P}from"./event.079378dc.js";import{o as qe}from"./index.5dbd068b.js";import{w as Ge}from"./install.db378abc.js";const Je=te({type:R(Boolean),default:null}),Qe=te({type:R(Function)}),We=r=>{const s=`update:${r}`,n=`onUpdate:${r}`,i=[s],h={[r]:Je,[n]:Qe};return{useModelToggle:({indicator:p,toggleReason:f,shouldHideWhenRouteChanges:g,shouldProceed:u,onShow:v,onHide:a})=>{const m=Be(),{emit:C}=m,b=m.props,w=y(()=>K(b[n])),E=y(()=>b[r]===null),e=d=>{p.value!==!0&&(p.value=!0,f&&(f.value=d),K(v)&&v(d))},T=d=>{p.value!==!1&&(p.value=!1,f&&(f.value=d),K(a)&&a(d))},k=d=>{if(b.disabled===!0||K(u)&&!u())return;const B=w.value&&z;B&&C(s,!0),(E.value||!B)&&e(d)},l=d=>{if(b.disabled===!0||!z)return;const B=w.value&&z;B&&C(s,!1),(E.value||!B)&&T(d)},M=d=>{!se(d)||(b.disabled&&d?w.value&&C(s,!1):p.value!==d&&(d?e():T()))},_=()=>{p.value?l():k()};return L(()=>b[r],M),g&&m.appContext.config.globalProperties.$route!==void 0&&L(()=>({...m.proxy.$route}),()=>{g.value&&p.value&&l()}),Pe(()=>{M(b[r])}),{hide:l,show:k,toggle:_,hasUpdateHandler:w}},useModelToggleProps:h,useModelToggleEmits:i}};function x(){let r;const s=(i,h)=>{n(),r=window.setTimeout(i,h)},n=()=>window.clearTimeout(r);return Ae(()=>n()),{registerTimeout:s,cancelTimeout:n}}let ee;const ae=()=>{const r=$e(),s=Oe(),n=y(()=>`${r.value}-popper-container-${s.prefix}`),i=y(()=>`#${n.value}`);return{id:n,selector:i}},Ze=r=>{const s=document.createElement("div");return s.id=r,document.body.appendChild(s),s},Xe=()=>{const{id:r,selector:s}=ae();return Se(()=>{!z||!ee&&!document.body.querySelector(s.value)&&(ee=Ze(r.value))}),{id:r,selector:s}},xe=U({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),eo=({showAfter:r,hideAfter:s,autoClose:n,open:i,close:h})=>{const{registerTimeout:c}=x(),{registerTimeout:p,cancelTimeout:f}=x();return{onOpen:v=>{c(()=>{i(v);const a=o(n);Ye(a)&&a>0&&p(()=>{h(v)},a)},o(r))},onClose:v=>{f(),c(()=>{h(v)},o(s))}}},V=Symbol("elTooltip"),J=U({...xe,...Te,appendTo:{type:R([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:R(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),Q=U({...ye,disabled:Boolean,trigger:{type:R([String,Array]),default:"hover"},triggerKeys:{type:R(Array),default:()=>[X.enter,X.space]}}),{useModelToggleProps:le,useModelToggleEmits:ie,useModelToggle:pe}=We("visible"),ue=U({...he,...le,...J,...Q,...Ce,showArrow:{type:Boolean,default:!0}}),de=[...ie,"before-show","before-hide","show","hide","open","close"],oo=(r,s)=>Ie(r)?r.includes(s):r===s,O=(r,s,n)=>i=>{oo(o(r),s)&&n(i)},to=D({name:"ElTooltipTrigger"}),no=D({...to,props:Q,setup(r,{expose:s}){const n=r,i=ne("tooltip"),{controlled:h,id:c,open:p,onOpen:f,onClose:g,onToggle:u}=re(V,void 0),v=A(null),a=()=>{if(o(h)||n.disabled)return!0},m=H(n,"trigger"),C=P(a,O(m,"hover",f)),b=P(a,O(m,"hover",g)),w=P(a,O(m,"click",l=>{l.button===0&&u(l)})),E=P(a,O(m,"focus",f)),e=P(a,O(m,"focus",g)),T=P(a,O(m,"contextmenu",l=>{l.preventDefault(),u(l)})),k=P(a,l=>{const{code:M}=l;n.triggerKeys.includes(M)&&(l.preventDefault(),u(l))});return s({triggerRef:v}),(l,M)=>(S(),N(o(we),{id:o(c),"virtual-ref":l.virtualRef,open:o(p),"virtual-triggering":l.virtualTriggering,class:Re(o(i).e("trigger")),onBlur:o(e),onClick:o(w),onContextmenu:o(T),onFocus:o(E),onMouseenter:o(C),onMouseleave:o(b),onKeydown:o(k)},{default:I(()=>[F(l.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var ro=G(no,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const so=D({name:"ElTooltipContent",inheritAttrs:!1}),ao=D({...so,props:J,setup(r,{expose:s}){const n=r,{selector:i}=ae(),h=ne("tooltip"),c=A(null),p=A(!1),{controlled:f,id:g,open:u,trigger:v,onClose:a,onOpen:m,onShow:C,onHide:b,onBeforeShow:w,onBeforeHide:E}=re(V,void 0),e=y(()=>n.transition||`${h.namespace.value}-fade-in-linear`),T=y(()=>n.persistent);De(()=>{p.value=!0});const k=y(()=>o(T)?!0:o(u)),l=y(()=>n.disabled?!1:o(u)),M=y(()=>n.appendTo||i.value),_=y(()=>{var t;return(t=n.style)!=null?t:{}}),d=y(()=>!o(u)),B=()=>{b()},W=()=>{if(o(f))return!0},ce=P(W,()=>{n.enterable&&o(v)==="hover"&&m()}),fe=P(W,()=>{o(v)==="hover"&&a()}),ge=()=>{var t,$;($=(t=c.value)==null?void 0:t.updatePopper)==null||$.call(t),w==null||w()},ve=()=>{E==null||E()},me=()=>{C(),Y=qe(y(()=>{var t;return(t=c.value)==null?void 0:t.popperContentRef}),()=>{if(o(f))return;o(v)!=="hover"&&a()})},be=()=>{n.virtualTriggering||a()};let Y;return L(()=>o(u),t=>{t||Y==null||Y()},{flush:"post"}),L(()=>n.content,()=>{var t,$;($=(t=c.value)==null?void 0:t.updatePopper)==null||$.call(t)}),s({contentRef:c}),(t,$)=>(S(),N(ze,{disabled:!t.teleported,to:o(M)},[q(Ke,{name:o(e),onAfterLeave:B,onBeforeEnter:ge,onAfterEnter:me,onBeforeLeave:ve},{default:I(()=>[o(k)?He((S(),N(o(Ee),Le({key:0,id:o(g),ref_key:"contentRef",ref:c},t.$attrs,{"aria-label":t.ariaLabel,"aria-hidden":o(d),"boundaries-padding":t.boundariesPadding,"fallback-placements":t.fallbackPlacements,"gpu-acceleration":t.gpuAcceleration,offset:t.offset,placement:t.placement,"popper-options":t.popperOptions,strategy:t.strategy,effect:t.effect,enterable:t.enterable,pure:t.pure,"popper-class":t.popperClass,"popper-style":[t.popperStyle,o(_)],"reference-el":t.referenceEl,"trigger-target-el":t.triggerTargetEl,visible:o(l),"z-index":t.zIndex,onMouseenter:o(ce),onMouseleave:o(fe),onBlur:be,onClose:o(a)}),{default:I(()=>[p.value?j("v-if",!0):F(t.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[Ne,o(l)]]):j("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var lo=G(ao,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const io=["innerHTML"],po={key:1},uo=D({name:"ElTooltip"}),co=D({...uo,props:ue,emits:de,setup(r,{expose:s,emit:n}){const i=r;Xe();const h=Fe(),c=A(),p=A(),f=()=>{var e;const T=o(c);T&&((e=T.popperInstanceRef)==null||e.update())},g=A(!1),u=A(),{show:v,hide:a,hasUpdateHandler:m}=pe({indicator:g,toggleReason:u}),{onOpen:C,onClose:b}=eo({showAfter:H(i,"showAfter"),hideAfter:H(i,"hideAfter"),autoClose:H(i,"autoClose"),open:v,close:a}),w=y(()=>se(i.visible)&&!m.value);je(V,{controlled:w,id:h,open:Ue(g),trigger:H(i,"trigger"),onOpen:e=>{C(e)},onClose:e=>{b(e)},onToggle:e=>{o(g)?b(e):C(e)},onShow:()=>{n("show",u.value)},onHide:()=>{n("hide",u.value)},onBeforeShow:()=>{n("before-show",u.value)},onBeforeHide:()=>{n("before-hide",u.value)},updatePopper:f}),L(()=>i.disabled,e=>{e&&g.value&&(g.value=!1)});const E=e=>{var T,k;const l=(k=(T=p.value)==null?void 0:T.contentRef)==null?void 0:k.popperContentRef,M=(e==null?void 0:e.relatedTarget)||document.activeElement;return l&&l.contains(M)};return Ve(()=>g.value&&a()),s({popperRef:c,contentRef:p,isFocusInsideContent:E,updatePopper:f,onOpen:C,onClose:b,hide:a}),(e,T)=>(S(),N(o(Me),{ref_key:"popperRef",ref:c,role:e.role},{default:I(()=>[q(ro,{disabled:e.disabled,trigger:e.trigger,"trigger-keys":e.triggerKeys,"virtual-ref":e.virtualRef,"virtual-triggering":e.virtualTriggering},{default:I(()=>[e.$slots.default?F(e.$slots,"default",{key:0}):j("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),q(lo,{ref_key:"contentRef",ref:p,"aria-label":e.ariaLabel,"boundaries-padding":e.boundariesPadding,content:e.content,disabled:e.disabled,effect:e.effect,enterable:e.enterable,"fallback-placements":e.fallbackPlacements,"hide-after":e.hideAfter,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,persistent:e.persistent,"popper-class":e.popperClass,"popper-style":e.popperStyle,placement:e.placement,"popper-options":e.popperOptions,pure:e.pure,"raw-content":e.rawContent,"reference-el":e.referenceEl,"trigger-target-el":e.triggerTargetEl,"show-after":e.showAfter,strategy:e.strategy,teleported:e.teleported,transition:e.transition,"virtual-triggering":e.virtualTriggering,"z-index":e.zIndex,"append-to":e.appendTo},{default:I(()=>[F(e.$slots,"content",{},()=>[e.rawContent?(S(),Z("span",{key:0,innerHTML:e.content},null,8,io)):(S(),Z("span",po,_e(e.content),1))]),e.showArrow?(S(),N(o(ke),{key:0,"arrow-offset":e.arrowOffset},null,8,["arrow-offset"])):j("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var fo=G(co,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const oe=Ge(fo),Eo=Object.freeze(Object.defineProperty({__proto__:null,ElTooltip:oe,default:oe,tooltipEmits:de,useTooltipModelToggle:pe,useTooltipModelToggleEmits:ie,useTooltipModelToggleProps:le,useTooltipProps:ue,useTooltipTriggerProps:Q,useTooltipContentProps:J,TOOLTIP_INJECTION_KEY:V},Symbol.toStringTag,{value:"Module"}));export{oe as E,V as T,Q as a,eo as b,Eo as i,J as u};
