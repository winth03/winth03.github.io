import{i as h,b as o,S as p,j as _,m as f,a1 as i}from"./entry.b33cb278.js";const g=h({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(t,{slots:a,attrs:n}){const s=o(!1);return p(()=>{s.value=!0}),r=>{var l;if(s.value)return(l=a.default)==null?void 0:l.call(a);const e=a.fallback||a.placeholder;if(e)return e();const c=r.fallback||r.placeholder||"",u=r.fallbackTag||r.placeholderTag||"span";return _(u,n,c)}}}),d=new WeakMap;function m(t){if(d.has(t))return d.get(t);const a={...t};return a.render?a.render=(n,...s)=>{var r;if(n.mounted$){const e=t.render(n,...s);return e.children===null||typeof e.children=="string"?f(e.type,e.props,e.children,e.patchFlag,e.dynamicProps,e.shapeFlag):i(e)}else return i("div",(r=n.$attrs)!=null?r:n._.attrs)}:a.template&&(a.template=`
      <template v-if="mounted$">${t.template}</template>
      <template v-else><div></div></template>
    `),a.setup=(n,s)=>{var e;const r=o(!1);return p(()=>{r.value=!0}),Promise.resolve(((e=t.setup)==null?void 0:e.call(t,n,s))||{}).then(c=>typeof c!="function"?{...c,mounted$:r}:(...u)=>{if(r.value){const l=c(...u);return l.children===null||typeof l.children=="string"?f(l.type,l.props,l.children,l.patchFlag,l.dynamicProps,l.shapeFlag):i(l)}else return i("div",s.attrs)})},d.set(t,a),a}export{m as createClientOnly,g as default};
