import{H as W,ab as J,E as Q,f as S,a5 as H,k as $,o as k,D as z,I,K as h,a4 as u,u as e,Q as Z,S as A,L as b,c as K,P as G,Y as U,R as j,h as x,a2 as ee,p as N,a3 as oe,Z as te,a6 as se,aR as ae,$ as ne,a7 as le,az as re}from"./entry.40f94ce2.js";import{d as ie,a as de,b as ce,c as me,u as ue,e as pe,E as fe}from"./use-dialog.fe8be575.js";import{c as po,b as fo,u as go}from"./use-dialog.fe8be575.js";import{ElIcon as ge}from"./index.52232a07.js";import{_ as q}from"./plugin-vue_export-helper.b0b5f2d9.js";import{u as ve}from"./index.b1f4efad.js";import{C as be}from"./icon.aaa9d058.js";import{F as he,E as Ce}from"./focus-trap.efed23b5.js";import{c as ye}from"./refs.c21083ff.js";import{b as O}from"./style.a7bf22e4.js";import{u as _}from"./index.d26d92fd.js";import{w as Ee}from"./install.db378abc.js";import"./runtime.a8d5aa72.js";import"./vnode.30b5e0bd.js";import"./event.e54e7e4a.js";import"./types.0ffe2429.js";import"./index.1eb5ee59.js";import"./use-global-config.be3c3615.js";import"./index.f72caa6f.js";import"./size.007424cf.js";import"./objects.1e9cc2c5.js";import"./get.070bcf83.js";import"./_baseGet.57648035.js";import"./isArray.3fa80ba1.js";import"./isObject.5a18b265.js";import"./_baseSet.39436bc7.js";import"./_defineProperty.f71786e5.js";import"./_isIndex.f5af1eca.js";import"./error.6c36bb34.js";import"./scroll.123f6305.js";import"./index.e0b44930.js";import"./aria.362daa0e.js";const ke=(i,a,d)=>{let C={offsetX:0,offsetY:0};const n=t=>{const f=t.clientX,E=t.clientY,{offsetX:c,offsetY:g}=C,m=i.value.getBoundingClientRect(),s=m.left,v=m.top,D=m.width,T=m.height,F=document.documentElement.clientWidth,L=document.documentElement.clientHeight,B=-s+c,P=-v+g,Y=F-s-D+c,X=L-v-T+g,R=M=>{const o=Math.min(Math.max(c+M.clientX-f,B),Y),r=Math.min(Math.max(g+M.clientY-E,P),X);C={offsetX:o,offsetY:r},i.value.style.transform=`translate(${O(o)}, ${O(r)})`},l=()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",l)};document.addEventListener("mousemove",R),document.addEventListener("mouseup",l)},p=()=>{a.value&&i.value&&a.value.addEventListener("mousedown",n)},y=()=>{a.value&&i.value&&a.value.removeEventListener("mousedown",n)};W(()=>{J(()=>{d.value?p():y()})}),Q(()=>{y()})},V=Symbol("dialogInjectionKey"),we=["aria-label"],$e=["id"],De=S({name:"ElDialogContent"}),Le=S({...De,props:ie,emits:de,setup(i){const a=i,{t:d}=ve(),{Close:C}=be,{dialogRef:n,headerRef:p,bodyId:y,ns:t,style:f}=H(V),{focusTrapRef:E}=H(he),c=$(()=>[t.b(),t.is("fullscreen",a.fullscreen),t.is("draggable",a.draggable),t.is("align-center",a.alignCenter),{[t.m("center")]:a.center},a.customClass]),g=ye(E,n),m=$(()=>a.draggable);return ke(n,p,m),(s,v)=>(k(),z("div",{ref:e(g),class:u(e(c)),style:j(e(f)),tabindex:"-1"},[I("header",{ref_key:"headerRef",ref:p,class:u(e(t).e("header"))},[h(s.$slots,"header",{},()=>[I("span",{role:"heading",class:u(e(t).e("title"))},Z(s.title),3)]),s.showClose?(k(),z("button",{key:0,"aria-label":e(d)("el.dialog.close"),class:u(e(t).e("headerbtn")),type:"button",onClick:v[0]||(v[0]=D=>s.$emit("close"))},[A(e(ge),{class:u(e(t).e("close"))},{default:b(()=>[(k(),K(G(s.closeIcon||e(C))))]),_:1},8,["class"])],10,we)):U("v-if",!0)],2),I("div",{id:e(y),class:u(e(t).e("body"))},[h(s.$slots,"default")],10,$e),s.$slots.footer?(k(),z("footer",{key:0,class:u(e(t).e("footer"))},[h(s.$slots,"footer")],2)):U("v-if",!0)],6))}});var Re=q(Le,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Me=["aria-label","aria-labelledby","aria-describedby"],Ie=S({name:"ElDialog",inheritAttrs:!1}),Ae=S({...Ie,props:ce,emits:me,setup(i,{expose:a}){const d=i,C=x();_({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},$(()=>!!C.title)),_({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},$(()=>!!d.customClass));const n=ee("dialog"),p=N(),y=N(),t=N(),{visible:f,titleId:E,bodyId:c,style:g,overlayDialogStyle:m,rendered:s,zIndex:v,afterEnter:D,afterLeave:T,beforeLeave:F,handleClose:L,onModalClick:B,onOpenAutoFocus:P,onCloseAutoFocus:Y,onCloseRequested:X,onFocusoutPrevented:R}=ue(d,p);oe(V,{dialogRef:p,headerRef:y,bodyId:c,ns:n,rendered:s,style:g});const l=pe(B),M=$(()=>d.draggable&&!d.fullscreen);return a({visible:f,dialogContentRef:t}),(o,r)=>(k(),K(re,{to:"body",disabled:!o.appendToBody},[A(le,{name:"dialog-fade",onAfterEnter:e(D),onAfterLeave:e(T),onBeforeLeave:e(F),persisted:""},{default:b(()=>[te(A(e(fe),{"custom-mask-event":"",mask:o.modal,"overlay-class":o.modalClass,"z-index":e(v)},{default:b(()=>[I("div",{role:"dialog","aria-modal":"true","aria-label":o.title||void 0,"aria-labelledby":o.title?void 0:e(E),"aria-describedby":e(c),class:u(`${e(n).namespace.value}-overlay-dialog`),style:j(e(m)),onClick:r[0]||(r[0]=(...w)=>e(l).onClick&&e(l).onClick(...w)),onMousedown:r[1]||(r[1]=(...w)=>e(l).onMousedown&&e(l).onMousedown(...w)),onMouseup:r[2]||(r[2]=(...w)=>e(l).onMouseup&&e(l).onMouseup(...w))},[A(e(Ce),{loop:"",trapped:e(f),"focus-start-el":"container",onFocusAfterTrapped:e(P),onFocusAfterReleased:e(Y),onFocusoutPrevented:e(R),onReleaseRequested:e(X)},{default:b(()=>[e(s)?(k(),K(Re,se({key:0,ref_key:"dialogContentRef",ref:t},o.$attrs,{"custom-class":o.customClass,center:o.center,"align-center":o.alignCenter,"close-icon":o.closeIcon,draggable:e(M),fullscreen:o.fullscreen,"show-close":o.showClose,title:o.title,onClose:e(L)}),ae({header:b(()=>[o.$slots.title?h(o.$slots,"title",{key:1}):h(o.$slots,"header",{key:0,close:e(L),titleId:e(E),titleClass:e(n).e("title")})]),default:b(()=>[h(o.$slots,"default")]),_:2},[o.$slots.footer?{name:"footer",fn:b(()=>[h(o.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):U("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Me)]),_:3},8,["mask","overlay-class","z-index"]),[[ne,e(f)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Se=q(Ae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const co=Ee(Se);export{co as ElDialog,co as default,po as dialogEmits,V as dialogInjectionKey,fo as dialogProps,go as useDialog};
