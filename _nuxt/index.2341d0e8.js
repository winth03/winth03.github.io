import{ElStatistic as x}from"./index.253a73f3.js";import{b as y,d}from"./runtime.ca6a5e5a.js";import{C as _}from"./event.e54e7e4a.js";import{i as S}from"./types.bb628c62.js";import{_ as T}from"./plugin-vue_export-helper.b0b5f2d9.js";import{r as w,c as E}from"./raf.77fcd12d.js";import{i as h,b,h as C,e as k,ae as A,o as D,c as H,aR as N,M as R,w as $,r as B,u as F}from"./entry.b33cb278.js";import{w as M}from"./install.187cf5b6.js";const O=y({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:d([Number,Object]),default:0},valueStyle:{type:d([String,Object,Array])}}),P={finish:()=>!0,[_]:t=>S(t)},V=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],g=t=>S(t)?new Date(t).getTime():t.valueOf(),v=(t,u)=>{let n=t;const o=/\[([^\]]*)]/g;return V.reduce((r,[m,l])=>{const a=new RegExp(`${m}+(?![^\\[\\]]*\\])`,"g");if(a.test(r)){const f=Math.floor(n/l);return n-=f*l,r.replace(a,e=>String(f).padStart(e.length,"0"))}return r},u).replace(o,"$1")},j=h({name:"ElCountdown"}),L=h({...j,props:O,emits:P,setup(t,{expose:u,emit:n}){const o=t;let s;const r=b(g(o.value)-Date.now()),m=C(()=>v(r.value,o.format)),l=e=>v(e,o.format),a=()=>{s&&(E(s),s=void 0)},f=()=>{const e=g(o.value),c=()=>{let i=e-Date.now();n("change",i),i<=0?(i=0,a(),n("finish")):s=w(c),r.value=i};s=w(c)};return k(()=>[o.value,o.format],()=>{a(),f()},{immediate:!0}),A(()=>{a()}),u({displayValue:m}),(e,c)=>(D(),H(F(x),{value:r.value,title:e.title,prefix:e.prefix,suffix:e.suffix,"value-style":e.valueStyle,formatter:l},N({_:2},[R(e.$slots,(i,p)=>({name:p,fn:$(()=>[B(e.$slots,p)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var U=T(L,[["__file","/home/runner/work/element-plus/element-plus/packages/components/countdown/src/countdown.vue"]]);const W=M(U);export{W as ElCountdown,P as countdownEmits,O as countdownProps,W as default};
