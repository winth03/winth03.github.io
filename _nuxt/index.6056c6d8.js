import{i as j}from"./types.8eace398.js";import{b as x,d as V}from"./runtime.781c1752.js";import{m as z}from"./typescript.c44ade1c.js";import{U as $,C as A}from"./event.e54e7e4a.js";import{b,e as U,p as W,f as S,h as c,i as C,o as T,j as B,r as E,k as p,u as e,l as q,m as v,q as G,s as L,t as R,v as y,w as K,x as J,y as Q,z as X}from"./entry.832a1cf2.js";import{c as N}from"./castArray.cb24954d.js";import{_ as D}from"./plugin-vue_export-helper.b0b5f2d9.js";import Y from"./index.3f3dd1c1.js";import{ElIcon as Z}from"./index.45f48a28.js";import{ArrowRight as ee}from"./index.b2143f7d.js";import{g as H}from"./rand.0e47716b.js";import{w as se,a as te}from"./install.13f627c7.js";import"./isArray.3fa80ba1.js";import"./style.799baba7.js";const g=s=>typeof j(s),ae=x({accordion:Boolean,modelValue:{type:V([Array,String,Number]),default:()=>z([])}}),le={[$]:g,[A]:g},F=Symbol("collapseContextKey"),oe=(s,o)=>{const t=b(N(s.modelValue)),n=l=>{t.value=l;const i=s.accordion?t.value[0]:t.value;o($,i),o(A,i)},a=l=>{if(s.accordion)n([t.value[0]===l?"":l]);else{const i=[...t.value],r=i.indexOf(l);r>-1?i.splice(r,1):i.push(l),n(i)}};return U(()=>s.modelValue,()=>t.value=N(s.modelValue),{deep:!0}),W(F,{activeNames:t,handleItemClick:a}),{activeNames:t,setActiveNames:n}},ne=()=>{const s=S("collapse");return{rootKls:c(()=>s.b())}},ie=C({name:"ElCollapse"}),re=C({...ie,props:ae,emits:le,setup(s,{expose:o,emit:t}){const n=s,{activeNames:a,setActiveNames:l}=oe(n,t),{rootKls:i}=ne();return o({activeNames:a,setActiveNames:l}),(r,m)=>(T(),B("div",{class:p(e(i)),role:"tablist","aria-multiselectable":"true"},[E(r.$slots,"default")],2))}});var ce=D(re,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse.vue"]]);const de=x({title:{type:String,default:""},name:{type:V([String,Number]),default:()=>H()},disabled:Boolean}),me=s=>{const o=q(F),t=b(!1),n=b(!1),a=b(H()),l=c(()=>o==null?void 0:o.activeNames.value.includes(s.name));return{focusing:t,id:a,isActive:l,handleFocus:()=>{setTimeout(()=>{n.value?n.value=!1:t.value=!0},50)},handleHeaderClick:()=>{s.disabled||(o==null||o.handleItemClick(s.name),t.value=!1,n.value=!0)},handleEnterClick:()=>{o==null||o.handleItemClick(s.name)}}},ue=(s,{focusing:o,isActive:t,id:n})=>{const a=S("collapse"),l=c(()=>[a.b("item"),a.is("active",e(t)),a.is("disabled",s.disabled)]),i=c(()=>[a.be("item","header"),a.is("active",e(t)),{focusing:e(o)&&!s.disabled}]),r=c(()=>[a.be("item","arrow"),a.is("active",e(t))]),m=c(()=>a.be("item","wrap")),h=c(()=>a.be("item","content")),_=c(()=>a.b(`content-${e(n)}`)),k=c(()=>a.b(`head-${e(n)}`));return{arrowKls:r,headKls:i,rootKls:l,itemWrapperKls:m,itemContentKls:h,scopedContentId:_,scopedHeadId:k}},pe=["aria-expanded","aria-controls","aria-describedby"],fe=["id","tabindex"],ve=["id","aria-hidden","aria-labelledby"],be=C({name:"ElCollapseItem"}),Ce=C({...be,props:de,setup(s,{expose:o}){const t=s,{focusing:n,id:a,isActive:l,handleFocus:i,handleHeaderClick:r,handleEnterClick:m}=me(t),{arrowKls:h,headKls:_,rootKls:k,itemWrapperKls:M,itemContentKls:O,scopedContentId:w,scopedHeadId:I}=ue(t,{focusing:n,isActive:l,id:a});return o({isActive:l}),(f,d)=>(T(),B("div",{class:p(e(k))},[v("div",{role:"tab","aria-expanded":e(l),"aria-controls":e(w),"aria-describedby":e(w)},[v("div",{id:e(I),class:p(e(_)),role:"button",tabindex:f.disabled?-1:0,onClick:d[0]||(d[0]=(...u)=>e(r)&&e(r)(...u)),onKeypress:d[1]||(d[1]=G(X((...u)=>e(m)&&e(m)(...u),["stop","prevent"]),["space","enter"])),onFocus:d[2]||(d[2]=(...u)=>e(i)&&e(i)(...u)),onBlur:d[3]||(d[3]=u=>n.value=!1)},[E(f.$slots,"title",{},()=>[L(R(f.title),1)]),y(e(Z),{class:p(e(h))},{default:K(()=>[y(e(ee))]),_:1},8,["class"])],42,fe)],8,pe),y(e(Y),null,{default:K(()=>[J(v("div",{id:e(w),class:p(e(M)),role:"tabpanel","aria-hidden":!e(l),"aria-labelledby":e(I)},[v("div",{class:p(e(O))},[E(f.$slots,"default")],2)],10,ve),[[Q,e(l)]])]),_:3})],2))}});var P=D(Ce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse-item.vue"]]);const Se=se(ce,{CollapseItem:P}),Te=te(P);export{Se as ElCollapse,Te as ElCollapseItem,F as collapseContextKey,le as collapseEmits,de as collapseItemProps,ae as collapseProps,Se as default,g as emitChangeFn};
